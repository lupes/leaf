{"remainingRequest":"/Users/klook/work/leaf/web/node_modules/babel-loader/lib/index.js!/Users/klook/work/leaf/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/klook/work/leaf/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/klook/work/leaf/web/src/views/Problem.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/klook/work/leaf/web/src/views/Problem.vue","mtime":1574777778950},{"path":"/Users/klook/work/leaf/web/node_modules/cache-loader/dist/cjs.js","mtime":1574055442948},{"path":"/Users/klook/work/leaf/web/node_modules/babel-loader/lib/index.js","mtime":1574055434942},{"path":"/Users/klook/work/leaf/web/node_modules/cache-loader/dist/cjs.js","mtime":1574055442948},{"path":"/Users/klook/work/leaf/web/node_modules/vue-loader/lib/index.js","mtime":1574055445150}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJQcm9ibGVtIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gewogICAgICBwcm9ibGVtOiB7fSwKICAgICAgc29sdXRpb25zOiBbXSwKICAgICAgcGFnZVNpemU6IDEwLAogICAgICBwYWdpbmF0aW9uOiB7CiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKHBhZ2UpIHsKICAgICAgICAgIF90aGlzLmdldERhdGEoX3RoaXMucGFnZVNpemUgKiAocGFnZSAtIDEpLCBmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIF90aGlzLnBhZ2luYXRpb24udG90YWwgPSByZXMuZGF0YS5kYXRhLmNvdW50OwogICAgICAgICAgICBfdGhpcy5wcm9ibGVtcyA9IHJlcy5kYXRhLmRhdGEucHJvYmxlbXMgPT0gbnVsbCA/IFtdIDogcmVzLmRhdGEuZGF0YS5wcm9ibGVtczsKICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgdG90YWw6IDAsCiAgICAgICAgcGFnZVNpemU6IDEwCiAgICAgIH0KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgdGhpcy5nZXRQcm9ibGVtKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCwgZnVuY3Rpb24gKHJlcykgewogICAgICBfdGhpczIucHJvYmxlbSA9IHJlcy5kYXRhLmRhdGE7CiAgICB9KTsKICAgIHRoaXMuZ2V0U29sdXRpb25zKDAsIHRoaXMuJHJvdXRlLnBhcmFtcy5pZCwgZnVuY3Rpb24gKHJlcykgewogICAgICBfdGhpczIucGFnaW5hdGlvbi50b3RhbCA9IHJlcy5kYXRhLmRhdGEuY291bnQ7CiAgICAgIF90aGlzMi5zb2x1dGlvbnMgPSByZXMuZGF0YS5kYXRhLnNvbHV0aW9ucyA9PSBudWxsID8gW10gOiByZXMuZGF0YS5kYXRhLnNvbHV0aW9uczsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0UHJvYmxlbTogZnVuY3Rpb24gZ2V0UHJvYmxlbShwcm9ibGVtX2lkLCBjYWxsYmFjaykgewogICAgICB2YXIgYXBwID0gdGhpczsKICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0L2FwaS92MS9wcm9ibGVtLyIgKyBwcm9ibGVtX2lkKS50aGVuKGNhbGxiYWNrKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBhcHAuJG1lc3NhZ2UuZXJyb3IoIuivt+axguWksei0pSAiICsgZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRTb2x1dGlvbnM6IGZ1bmN0aW9uIGdldFNvbHV0aW9ucyhvZmZzZXQsIHByb2JsZW1faWQsIGNhbGxiYWNrKSB7CiAgICAgIHZhciBhcHAgPSB0aGlzOwogICAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3QvYXBpL3YxL3NvbHV0aW9uIiwgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgcHJvYmxlbV9pZDogcHJvYmxlbV9pZCwKICAgICAgICAgIGxpbWl0OiB0aGlzLnBhZ2VTaXplLAogICAgICAgICAgb2Zmc2V0OiBvZmZzZXQKICAgICAgICB9CiAgICAgIH0pLnRoZW4oY2FsbGJhY2spLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGFwcC4kbWVzc2FnZS5lcnJvcigi6K+35rGC5aSx6LSlICIgKyBlcnJvcik7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Problem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAEA,EAAA,IAFA,kBAEA;AAAA;;AACA,WAAA;AACA,MAAA,OAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA,EAHA;AAIA,MAAA,UAAA,EAAA;AACA,QAAA,QAAA,EAAA,kBAAA,IAAA,EAAA;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,KAAA,CAAA,QAAA,IAAA,IAAA,GAAA,CAAA,CAAA,EAAA,UAAA,GAAA,EAAA;AACA,YAAA,KAAA,CAAA,UAAA,CAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,KAAA;AACA,YAAA,KAAA,CAAA,QAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,QAAA,IAAA,IAAA,GAAA,EAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,QAAA;AACA,WAHA;AAIA,SANA;AAOA,QAAA,KAAA,EAAA,CAPA;AAQA,QAAA,QAAA,EAAA;AARA;AAJA,KAAA;AAeA,GAlBA;AAmBA,EAAA,OAnBA,qBAmBA;AAAA;;AACA,SAAA,UAAA,CAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,UAAA,GAAA,EAAA;AACA,MAAA,MAAA,CAAA,OAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,KAFA;AAGA,SAAA,YAAA,CAAA,CAAA,EAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,UAAA,GAAA,EAAA;AACA,MAAA,MAAA,CAAA,UAAA,CAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,KAAA;AACA,MAAA,MAAA,CAAA,SAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,SAAA,IAAA,IAAA,GAAA,EAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,SAAA;AACA,KAHA;AAIA,GA3BA;AA4BA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,UADA,EACA,QADA,EACA;AACA,UAAA,GAAA,GAAA,IAAA;AACA,MAAA,KAAA,CAAA,GAAA,CAAA,qCAAA,UAAA,EACA,IADA,CACA,QADA,EAEA,KAFA,CAEA,UAAA,KAAA,EAAA;AACA,QAAA,GAAA,CAAA,QAAA,CAAA,KAAA,CAAA,UAAA,KAAA;AACA,OAJA;AAKA,KARA;AASA,IAAA,YATA,wBASA,MATA,EASA,UATA,EASA,QATA,EASA;AACA,UAAA,GAAA,GAAA,IAAA;AACA,MAAA,KAAA,CAAA,GAAA,CAAA,kCAAA,EAAA;AACA,QAAA,MAAA,EAAA;AAAA,UAAA,UAAA,EAAA,UAAA;AAAA,UAAA,KAAA,EAAA,KAAA,QAAA;AAAA,UAAA,MAAA,EAAA;AAAA;AADA,OAAA,EAGA,IAHA,CAGA,QAHA,EAIA,KAJA,CAIA,UAAA,KAAA,EAAA;AACA,QAAA,GAAA,CAAA,QAAA,CAAA,KAAA,CAAA,UAAA,KAAA;AACA,OANA;AAOA;AAlBA;AA5BA,CAAA","sourcesContent":["<template>\n    <div>\n        <a-row>\n            <a-col :offset=\"19\" :span=\"3\">\n                <a-button type=\"primary\" href=\"/solution/add\">添加题解</a-button>\n            </a-col>\n        </a-row>\n        <a-row style=\"margin: 20px 0;\">\n            <a-col :offset=\"2\" :span=\"2\">\n                <span>{{ problem.title }} </span>\n            </a-col>\n            <a-col :offset=\"13\" :span=\"5\" >\n                <span>{{ problem.created_time | datetime }} </span>\n            </a-col>\n        </a-row>\n        <a-row>\n            <a-col :offset=\"2\" :span=\"20\">\n                <p>{{ problem.content }}</p>\n            </a-col>\n        </a-row>\n        <a-row>\n            <a-col :offset=\"2\" :span=\"20\">\n                <a-list class=\"\" itemLayout=\"horizontal\" :pagination=\"pagination\"\n                        :dataSource=\"solutions\">\n                    <a-list-item slot=\"renderItem\" slot-scope=\"item\">\n                        <span>{{ item.title }}</span>\n                        <a slot=\"actions\" :href=\"'/solution/edit/'+item.id\">编辑</a>\n                        <a slot=\"actions\" :href=\"'/solution/detail/'+item.id\">详情</a>\n                    </a-list-item>\n                </a-list>\n            </a-col>\n        </a-row>\n    </div>\n</template>\n\n<script>\n  import axios from \"axios\"\n\n  export default {\n    name: \"Problem\",\n    data() {\n      return {\n        problem: {},\n        solutions: [],\n        pageSize: 10,\n        pagination: {\n          onChange: page => {\n            this.getData(this.pageSize * (page - 1), res => {\n              this.pagination.total = res.data.data.count;\n              this.problems = res.data.data.problems == null ? [] : res.data.data.problems;\n            });\n          },\n          total: 0,\n          pageSize: 10,\n        },\n      };\n    },\n    mounted() {\n      this.getProblem(this.$route.params.id, res => {\n        this.problem = res.data.data\n      });\n      this.getSolutions(0, this.$route.params.id, res => {\n        this.pagination.total = res.data.data.count;\n        this.solutions = res.data.data.solutions == null ? [] : res.data.data.solutions;\n      })\n    },\n    methods: {\n      getProblem(problem_id, callback) {\n        let app = this;\n        axios.get(\"http://localhost/api/v1/problem/\" + problem_id)\n          .then(callback)\n          .catch(function (error) {\n            app.$message.error(\"请求失败 \" + error);\n          })\n      },\n      getSolutions(offset, problem_id, callback) {\n        let app = this;\n        axios.get(\"http://localhost/api/v1/solution\", {\n          params: {problem_id: problem_id, limit: this.pageSize, offset: offset}\n        })\n          .then(callback)\n          .catch(function (error) {\n            app.$message.error(\"请求失败 \" + error);\n          })\n      },\n    },\n  };\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":"src/views"}]}