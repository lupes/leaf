{"remainingRequest":"/Users/klook/work/leaf/web/node_modules/babel-loader/lib/index.js!/Users/klook/work/leaf/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/klook/work/leaf/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/klook/work/leaf/web/src/views/Problem.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/klook/work/leaf/web/src/views/Problem.vue","mtime":1574864434962},{"path":"/Users/klook/work/leaf/web/node_modules/cache-loader/dist/cjs.js","mtime":1574055442948},{"path":"/Users/klook/work/leaf/web/node_modules/babel-loader/lib/index.js","mtime":1574055434942},{"path":"/Users/klook/work/leaf/web/node_modules/cache-loader/dist/cjs.js","mtime":1574055442948},{"path":"/Users/klook/work/leaf/web/node_modules/vue-loader/lib/index.js","mtime":1574055445150}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJQcm9ibGVtIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gewogICAgICBwcm9ibGVtOiB7fSwKICAgICAgc29sdXRpb25zOiBbXSwKICAgICAgcGFnZVNpemU6IDEwLAogICAgICBwYWdpbmF0aW9uOiB7CiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKHBhZ2UpIHsKICAgICAgICAgIF90aGlzLmdldFNvbHV0aW9ucyhfdGhpcy5wYWdlU2l6ZSAqIChwYWdlIC0gMSksIF90aGlzLiRyb3V0ZS5wYXJhbXMuaWQsIGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgX3RoaXMucGFnaW5hdGlvbi50b3RhbCA9IHJlcy5kYXRhLmRhdGEuY291bnQ7CiAgICAgICAgICAgIF90aGlzLnNvbHV0aW9ucyA9IHJlcy5kYXRhLmRhdGEuc29sdXRpb25zID09IG51bGwgPyBbXSA6IHJlcy5kYXRhLmRhdGEuc29sdXRpb25zOwogICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICB0b3RhbDogMCwKICAgICAgICBwYWdlU2l6ZTogMTAKICAgICAgfQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICB0aGlzLmdldFByb2JsZW0odGhpcy4kcm91dGUucGFyYW1zLmlkLCBmdW5jdGlvbiAocmVzKSB7CiAgICAgIF90aGlzMi5wcm9ibGVtID0gcmVzLmRhdGEuZGF0YTsKICAgIH0pOwogICAgdGhpcy5nZXRTb2x1dGlvbnMoMCwgdGhpcy4kcm91dGUucGFyYW1zLmlkLCBmdW5jdGlvbiAocmVzKSB7CiAgICAgIF90aGlzMi5wYWdpbmF0aW9uLnRvdGFsID0gcmVzLmRhdGEuZGF0YS5jb3VudDsKICAgICAgX3RoaXMyLnNvbHV0aW9ucyA9IHJlcy5kYXRhLmRhdGEuc29sdXRpb25zID09IG51bGwgPyBbXSA6IHJlcy5kYXRhLmRhdGEuc29sdXRpb25zOwogICAgfSk7CiAgfSwKICBjb21wdXRlZDogewogICAgZ2V0QWRkU29sdXRpb25Vcmw6IGZ1bmN0aW9uIGdldEFkZFNvbHV0aW9uVXJsKCkgewogICAgICByZXR1cm4gIi9zb2x1dGlvbi9hZGQvIiArIHRoaXMuJHJvdXRlLnBhcmFtcy5pZDsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFByb2JsZW06IGZ1bmN0aW9uIGdldFByb2JsZW0ocHJvYmxlbV9pZCwgY2FsbGJhY2spIHsKICAgICAgdmFyIGFwcCA9IHRoaXM7CiAgICAgIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdC9hcGkvdjEvcHJvYmxlbS8iICsgcHJvYmxlbV9pZCkudGhlbihjYWxsYmFjaykuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgYXBwLiRtZXNzYWdlLmVycm9yKCLor7fmsYLlpLHotKUgIiArIGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0U29sdXRpb25zOiBmdW5jdGlvbiBnZXRTb2x1dGlvbnMob2Zmc2V0LCBwcm9ibGVtX2lkLCBjYWxsYmFjaykgewogICAgICB2YXIgYXBwID0gdGhpczsKICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0L2FwaS92MS9zb2x1dGlvbiIsIHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHByb2JsZW1faWQ6IHByb2JsZW1faWQsCiAgICAgICAgICBsaW1pdDogdGhpcy5wYWdlU2l6ZSwKICAgICAgICAgIG9mZnNldDogb2Zmc2V0CiAgICAgICAgfQogICAgICB9KS50aGVuKGNhbGxiYWNrKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBhcHAuJG1lc3NhZ2UuZXJyb3IoIuivt+axguWksei0pSAiICsgZXJyb3IpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Problem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAEA,EAAA,IAFA,kBAEA;AAAA;;AACA,WAAA;AACA,MAAA,OAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA,EAHA;AAIA,MAAA,UAAA,EAAA;AACA,QAAA,QAAA,EAAA,kBAAA,IAAA,EAAA;AACA,UAAA,KAAA,CAAA,YAAA,CAAA,KAAA,CAAA,QAAA,IAAA,IAAA,GAAA,CAAA,CAAA,EAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,UAAA,GAAA,EAAA;AACA,YAAA,KAAA,CAAA,UAAA,CAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,KAAA;AACA,YAAA,KAAA,CAAA,SAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,SAAA,IAAA,IAAA,GAAA,EAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,SAAA;AACA,WAHA;AAIA,SANA;AAOA,QAAA,KAAA,EAAA,CAPA;AAQA,QAAA,QAAA,EAAA;AARA;AAJA,KAAA;AAeA,GAlBA;AAmBA,EAAA,OAnBA,qBAmBA;AAAA;;AACA,SAAA,UAAA,CAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,UAAA,GAAA,EAAA;AACA,MAAA,MAAA,CAAA,OAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,KAFA;AAGA,SAAA,YAAA,CAAA,CAAA,EAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,UAAA,GAAA,EAAA;AACA,MAAA,MAAA,CAAA,UAAA,CAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,KAAA;AACA,MAAA,MAAA,CAAA,SAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,SAAA,IAAA,IAAA,GAAA,EAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,SAAA;AACA,KAHA;AAIA,GA3BA;AA4BA,EAAA,QAAA,EAAA;AACA,IAAA,iBADA,+BACA;AACA,aAAA,mBAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA;AACA;AAHA,GA5BA;AAiCA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,UADA,EACA,QADA,EACA;AACA,UAAA,GAAA,GAAA,IAAA;AACA,MAAA,KAAA,CAAA,GAAA,CAAA,qCAAA,UAAA,EACA,IADA,CACA,QADA,EAEA,KAFA,CAEA,UAAA,KAAA,EAAA;AACA,QAAA,GAAA,CAAA,QAAA,CAAA,KAAA,CAAA,UAAA,KAAA;AACA,OAJA;AAKA,KARA;AASA,IAAA,YATA,wBASA,MATA,EASA,UATA,EASA,QATA,EASA;AACA,UAAA,GAAA,GAAA,IAAA;AACA,MAAA,KAAA,CAAA,GAAA,CAAA,kCAAA,EAAA;AACA,QAAA,MAAA,EAAA;AAAA,UAAA,UAAA,EAAA,UAAA;AAAA,UAAA,KAAA,EAAA,KAAA,QAAA;AAAA,UAAA,MAAA,EAAA;AAAA;AADA,OAAA,EAEA,IAFA,CAEA,QAFA,EAEA,KAFA,CAEA,UAAA,KAAA,EAAA;AACA,QAAA,GAAA,CAAA,QAAA,CAAA,KAAA,CAAA,UAAA,KAAA;AACA,OAJA;AAKA;AAhBA;AAjCA,CAAA","sourcesContent":["<template>\n    <div>\n        <a-row type=\"flex\" justify=\"center\" style=\"margin: 10px 0\">\n            <a-col :span=\"18\">\n                <Back />\n                <a-button type=\"primary\" :href=\"getAddSolutionUrl\" size=\"small\" style=\"float: right;\">添加题解</a-button>\n            </a-col>\n        </a-row>\n        <a-row  type=\"flex\" justify=\"center\" style=\"margin: 20px 0\">\n            <a-col :span=\"18\">\n                <span><strong><a :href=\"problem.url\">{{ problem.title }}</a></strong></span>\n                <span style=\"float: right;\">{{ problem.created_time | datetime }} </span>\n            </a-col>\n        </a-row>\n        <a-row type=\"flex\" justify=\"center\" style=\"margin: 10px 0\">\n            <a-col :span=\"18\">\n                <p v-html=\"problem.content\"></p>\n            </a-col>\n        </a-row>\n        <a-row type=\"flex\" justify=\"center\" style=\"margin: 10px 0\">\n            <a-col :span=\"18\">\n                <a-list class=\"\" itemLayout=\"horizontal\" :pagination=\"pagination\" header=\"题解列表\"\n                        :dataSource=\"solutions\">\n                    <a-list-item slot=\"renderItem\" slot-scope=\"item\">\n                        <span>{{ item.title }}</span>\n                        <span slot=\"actions\">{{ item.created_time | datetime }}</span>\n                        <a slot=\"actions\" :href=\"'/solution/edit/'+item.id\">编辑</a>\n                        <a slot=\"actions\" :href=\"'/solution/detail/'+item.id\">详情</a>\n                    </a-list-item>\n                </a-list>\n            </a-col>\n        </a-row>\n    </div>\n</template>\n\n<script>\n  import axios from \"axios\"\n\n  export default {\n    name: \"Problem\",\n    data() {\n      return {\n        problem: {},\n        solutions: [],\n        pageSize: 10,\n        pagination: {\n          onChange: page => {\n            this.getSolutions(this.pageSize * (page - 1), this.$route.params.id, res => {\n              this.pagination.total = res.data.data.count;\n              this.solutions = res.data.data.solutions == null ? [] : res.data.data.solutions;\n            });\n          },\n          total: 0,\n          pageSize: 10,\n        },\n      };\n    },\n    mounted() {\n      this.getProblem(this.$route.params.id, res => {\n        this.problem = res.data.data\n      });\n      this.getSolutions(0, this.$route.params.id, res => {\n        this.pagination.total = res.data.data.count;\n        this.solutions = res.data.data.solutions == null ? [] : res.data.data.solutions;\n      })\n    },\n    computed: {\n      getAddSolutionUrl() {\n        return \"/solution/add/\" + this.$route.params.id\n      },\n    },\n    methods: {\n      getProblem(problem_id, callback) {\n        let app = this;\n        axios.get(\"http://localhost/api/v1/problem/\" + problem_id)\n          .then(callback)\n          .catch(function (error) {\n            app.$message.error(\"请求失败 \" + error);\n          })\n      },\n      getSolutions(offset, problem_id, callback) {\n        let app = this;\n        axios.get(\"http://localhost/api/v1/solution\", {\n          params: {problem_id: problem_id, limit: this.pageSize, offset: offset}\n        }).then(callback).catch(function (error) {\n          app.$message.error(\"请求失败 \" + error);\n        })\n      },\n    },\n  };\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":"src/views"}]}