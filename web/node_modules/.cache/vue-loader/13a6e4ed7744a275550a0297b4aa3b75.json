{"remainingRequest":"/Users/klook/work/leaf/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/klook/work/leaf/web/src/views/Problem.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/klook/work/leaf/web/src/views/Problem.vue","mtime":1574777778950},{"path":"/Users/klook/work/leaf/web/node_modules/cache-loader/dist/cjs.js","mtime":1574055442948},{"path":"/Users/klook/work/leaf/web/node_modules/babel-loader/lib/index.js","mtime":1574055434942},{"path":"/Users/klook/work/leaf/web/node_modules/cache-loader/dist/cjs.js","mtime":1574055442948},{"path":"/Users/klook/work/leaf/web/node_modules/vue-loader/lib/index.js","mtime":1574055445150}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyIKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUHJvYmxlbSIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHByb2JsZW06IHt9LAogICAgICBzb2x1dGlvbnM6IFtdLAogICAgICBwYWdlU2l6ZTogMTAsCiAgICAgIHBhZ2luYXRpb246IHsKICAgICAgICBvbkNoYW5nZTogcGFnZSA9PiB7CiAgICAgICAgICB0aGlzLmdldERhdGEodGhpcy5wYWdlU2l6ZSAqIChwYWdlIC0gMSksIHJlcyA9PiB7CiAgICAgICAgICAgIHRoaXMucGFnaW5hdGlvbi50b3RhbCA9IHJlcy5kYXRhLmRhdGEuY291bnQ7CiAgICAgICAgICAgIHRoaXMucHJvYmxlbXMgPSByZXMuZGF0YS5kYXRhLnByb2JsZW1zID09IG51bGwgPyBbXSA6IHJlcy5kYXRhLmRhdGEucHJvYmxlbXM7CiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIHRvdGFsOiAwLAogICAgICAgIHBhZ2VTaXplOiAxMCwKICAgICAgfSwKICAgIH07CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5nZXRQcm9ibGVtKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCwgcmVzID0+IHsKICAgICAgdGhpcy5wcm9ibGVtID0gcmVzLmRhdGEuZGF0YQogICAgfSk7CiAgICB0aGlzLmdldFNvbHV0aW9ucygwLCB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsIHJlcyA9PiB7CiAgICAgIHRoaXMucGFnaW5hdGlvbi50b3RhbCA9IHJlcy5kYXRhLmRhdGEuY291bnQ7CiAgICAgIHRoaXMuc29sdXRpb25zID0gcmVzLmRhdGEuZGF0YS5zb2x1dGlvbnMgPT0gbnVsbCA/IFtdIDogcmVzLmRhdGEuZGF0YS5zb2x1dGlvbnM7CiAgICB9KQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0UHJvYmxlbShwcm9ibGVtX2lkLCBjYWxsYmFjaykgewogICAgICBsZXQgYXBwID0gdGhpczsKICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0L2FwaS92MS9wcm9ibGVtLyIgKyBwcm9ibGVtX2lkKQogICAgICAgIC50aGVuKGNhbGxiYWNrKQogICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIGFwcC4kbWVzc2FnZS5lcnJvcigi6K+35rGC5aSx6LSlICIgKyBlcnJvcik7CiAgICAgICAgfSkKICAgIH0sCiAgICBnZXRTb2x1dGlvbnMob2Zmc2V0LCBwcm9ibGVtX2lkLCBjYWxsYmFjaykgewogICAgICBsZXQgYXBwID0gdGhpczsKICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0L2FwaS92MS9zb2x1dGlvbiIsIHsKICAgICAgICBwYXJhbXM6IHtwcm9ibGVtX2lkOiBwcm9ibGVtX2lkLCBsaW1pdDogdGhpcy5wYWdlU2l6ZSwgb2Zmc2V0OiBvZmZzZXR9CiAgICAgIH0pCiAgICAgICAgLnRoZW4oY2FsbGJhY2spCiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgYXBwLiRtZXNzYWdlLmVycm9yKCLor7fmsYLlpLHotKUgIiArIGVycm9yKTsKICAgICAgICB9KQogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["Problem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Problem.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div>\n        <a-row>\n            <a-col :offset=\"19\" :span=\"3\">\n                <a-button type=\"primary\" href=\"/solution/add\">添加题解</a-button>\n            </a-col>\n        </a-row>\n        <a-row style=\"margin: 20px 0;\">\n            <a-col :offset=\"2\" :span=\"2\">\n                <span>{{ problem.title }} </span>\n            </a-col>\n            <a-col :offset=\"13\" :span=\"5\" >\n                <span>{{ problem.created_time | datetime }} </span>\n            </a-col>\n        </a-row>\n        <a-row>\n            <a-col :offset=\"2\" :span=\"20\">\n                <p>{{ problem.content }}</p>\n            </a-col>\n        </a-row>\n        <a-row>\n            <a-col :offset=\"2\" :span=\"20\">\n                <a-list class=\"\" itemLayout=\"horizontal\" :pagination=\"pagination\"\n                        :dataSource=\"solutions\">\n                    <a-list-item slot=\"renderItem\" slot-scope=\"item\">\n                        <span>{{ item.title }}</span>\n                        <a slot=\"actions\" :href=\"'/solution/edit/'+item.id\">编辑</a>\n                        <a slot=\"actions\" :href=\"'/solution/detail/'+item.id\">详情</a>\n                    </a-list-item>\n                </a-list>\n            </a-col>\n        </a-row>\n    </div>\n</template>\n\n<script>\n  import axios from \"axios\"\n\n  export default {\n    name: \"Problem\",\n    data() {\n      return {\n        problem: {},\n        solutions: [],\n        pageSize: 10,\n        pagination: {\n          onChange: page => {\n            this.getData(this.pageSize * (page - 1), res => {\n              this.pagination.total = res.data.data.count;\n              this.problems = res.data.data.problems == null ? [] : res.data.data.problems;\n            });\n          },\n          total: 0,\n          pageSize: 10,\n        },\n      };\n    },\n    mounted() {\n      this.getProblem(this.$route.params.id, res => {\n        this.problem = res.data.data\n      });\n      this.getSolutions(0, this.$route.params.id, res => {\n        this.pagination.total = res.data.data.count;\n        this.solutions = res.data.data.solutions == null ? [] : res.data.data.solutions;\n      })\n    },\n    methods: {\n      getProblem(problem_id, callback) {\n        let app = this;\n        axios.get(\"http://localhost/api/v1/problem/\" + problem_id)\n          .then(callback)\n          .catch(function (error) {\n            app.$message.error(\"请求失败 \" + error);\n          })\n      },\n      getSolutions(offset, problem_id, callback) {\n        let app = this;\n        axios.get(\"http://localhost/api/v1/solution\", {\n          params: {problem_id: problem_id, limit: this.pageSize, offset: offset}\n        })\n          .then(callback)\n          .catch(function (error) {\n            app.$message.error(\"请求失败 \" + error);\n          })\n      },\n    },\n  };\n</script>\n\n<style scoped>\n\n</style>"]}]}