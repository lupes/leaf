{"remainingRequest":"/Users/klook/work/leaf/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/klook/work/leaf/web/src/views/Problem.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/klook/work/leaf/web/src/views/Problem.vue","mtime":1574864434962},{"path":"/Users/klook/work/leaf/web/node_modules/cache-loader/dist/cjs.js","mtime":1574055442948},{"path":"/Users/klook/work/leaf/web/node_modules/babel-loader/lib/index.js","mtime":1574055434942},{"path":"/Users/klook/work/leaf/web/node_modules/cache-loader/dist/cjs.js","mtime":1574055442948},{"path":"/Users/klook/work/leaf/web/node_modules/vue-loader/lib/index.js","mtime":1574055445150}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyIKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUHJvYmxlbSIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHByb2JsZW06IHt9LAogICAgICBzb2x1dGlvbnM6IFtdLAogICAgICBwYWdlU2l6ZTogMTAsCiAgICAgIHBhZ2luYXRpb246IHsKICAgICAgICBvbkNoYW5nZTogcGFnZSA9PiB7CiAgICAgICAgICB0aGlzLmdldFNvbHV0aW9ucyh0aGlzLnBhZ2VTaXplICogKHBhZ2UgLSAxKSwgdGhpcy4kcm91dGUucGFyYW1zLmlkLCByZXMgPT4gewogICAgICAgICAgICB0aGlzLnBhZ2luYXRpb24udG90YWwgPSByZXMuZGF0YS5kYXRhLmNvdW50OwogICAgICAgICAgICB0aGlzLnNvbHV0aW9ucyA9IHJlcy5kYXRhLmRhdGEuc29sdXRpb25zID09IG51bGwgPyBbXSA6IHJlcy5kYXRhLmRhdGEuc29sdXRpb25zOwogICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICB0b3RhbDogMCwKICAgICAgICBwYWdlU2l6ZTogMTAsCiAgICAgIH0sCiAgICB9OwogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0UHJvYmxlbSh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsIHJlcyA9PiB7CiAgICAgIHRoaXMucHJvYmxlbSA9IHJlcy5kYXRhLmRhdGEKICAgIH0pOwogICAgdGhpcy5nZXRTb2x1dGlvbnMoMCwgdGhpcy4kcm91dGUucGFyYW1zLmlkLCByZXMgPT4gewogICAgICB0aGlzLnBhZ2luYXRpb24udG90YWwgPSByZXMuZGF0YS5kYXRhLmNvdW50OwogICAgICB0aGlzLnNvbHV0aW9ucyA9IHJlcy5kYXRhLmRhdGEuc29sdXRpb25zID09IG51bGwgPyBbXSA6IHJlcy5kYXRhLmRhdGEuc29sdXRpb25zOwogICAgfSkKICB9LAogIGNvbXB1dGVkOiB7CiAgICBnZXRBZGRTb2x1dGlvblVybCgpIHsKICAgICAgcmV0dXJuICIvc29sdXRpb24vYWRkLyIgKyB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQKICAgIH0sCiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRQcm9ibGVtKHByb2JsZW1faWQsIGNhbGxiYWNrKSB7CiAgICAgIGxldCBhcHAgPSB0aGlzOwogICAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3QvYXBpL3YxL3Byb2JsZW0vIiArIHByb2JsZW1faWQpCiAgICAgICAgLnRoZW4oY2FsbGJhY2spCiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgYXBwLiRtZXNzYWdlLmVycm9yKCLor7fmsYLlpLHotKUgIiArIGVycm9yKTsKICAgICAgICB9KQogICAgfSwKICAgIGdldFNvbHV0aW9ucyhvZmZzZXQsIHByb2JsZW1faWQsIGNhbGxiYWNrKSB7CiAgICAgIGxldCBhcHAgPSB0aGlzOwogICAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3QvYXBpL3YxL3NvbHV0aW9uIiwgewogICAgICAgIHBhcmFtczoge3Byb2JsZW1faWQ6IHByb2JsZW1faWQsIGxpbWl0OiB0aGlzLnBhZ2VTaXplLCBvZmZzZXQ6IG9mZnNldH0KICAgICAgfSkudGhlbihjYWxsYmFjaykuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgYXBwLiRtZXNzYWdlLmVycm9yKCLor7fmsYLlpLHotKUgIiArIGVycm9yKTsKICAgICAgfSkKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["Problem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Problem.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div>\n        <a-row type=\"flex\" justify=\"center\" style=\"margin: 10px 0\">\n            <a-col :span=\"18\">\n                <Back />\n                <a-button type=\"primary\" :href=\"getAddSolutionUrl\" size=\"small\" style=\"float: right;\">添加题解</a-button>\n            </a-col>\n        </a-row>\n        <a-row  type=\"flex\" justify=\"center\" style=\"margin: 20px 0\">\n            <a-col :span=\"18\">\n                <span><strong><a :href=\"problem.url\">{{ problem.title }}</a></strong></span>\n                <span style=\"float: right;\">{{ problem.created_time | datetime }} </span>\n            </a-col>\n        </a-row>\n        <a-row type=\"flex\" justify=\"center\" style=\"margin: 10px 0\">\n            <a-col :span=\"18\">\n                <p v-html=\"problem.content\"></p>\n            </a-col>\n        </a-row>\n        <a-row type=\"flex\" justify=\"center\" style=\"margin: 10px 0\">\n            <a-col :span=\"18\">\n                <a-list class=\"\" itemLayout=\"horizontal\" :pagination=\"pagination\" header=\"题解列表\"\n                        :dataSource=\"solutions\">\n                    <a-list-item slot=\"renderItem\" slot-scope=\"item\">\n                        <span>{{ item.title }}</span>\n                        <span slot=\"actions\">{{ item.created_time | datetime }}</span>\n                        <a slot=\"actions\" :href=\"'/solution/edit/'+item.id\">编辑</a>\n                        <a slot=\"actions\" :href=\"'/solution/detail/'+item.id\">详情</a>\n                    </a-list-item>\n                </a-list>\n            </a-col>\n        </a-row>\n    </div>\n</template>\n\n<script>\n  import axios from \"axios\"\n\n  export default {\n    name: \"Problem\",\n    data() {\n      return {\n        problem: {},\n        solutions: [],\n        pageSize: 10,\n        pagination: {\n          onChange: page => {\n            this.getSolutions(this.pageSize * (page - 1), this.$route.params.id, res => {\n              this.pagination.total = res.data.data.count;\n              this.solutions = res.data.data.solutions == null ? [] : res.data.data.solutions;\n            });\n          },\n          total: 0,\n          pageSize: 10,\n        },\n      };\n    },\n    mounted() {\n      this.getProblem(this.$route.params.id, res => {\n        this.problem = res.data.data\n      });\n      this.getSolutions(0, this.$route.params.id, res => {\n        this.pagination.total = res.data.data.count;\n        this.solutions = res.data.data.solutions == null ? [] : res.data.data.solutions;\n      })\n    },\n    computed: {\n      getAddSolutionUrl() {\n        return \"/solution/add/\" + this.$route.params.id\n      },\n    },\n    methods: {\n      getProblem(problem_id, callback) {\n        let app = this;\n        axios.get(\"http://localhost/api/v1/problem/\" + problem_id)\n          .then(callback)\n          .catch(function (error) {\n            app.$message.error(\"请求失败 \" + error);\n          })\n      },\n      getSolutions(offset, problem_id, callback) {\n        let app = this;\n        axios.get(\"http://localhost/api/v1/solution\", {\n          params: {problem_id: problem_id, limit: this.pageSize, offset: offset}\n        }).then(callback).catch(function (error) {\n          app.$message.error(\"请求失败 \" + error);\n        })\n      },\n    },\n  };\n</script>\n\n<style scoped>\n\n</style>"]}]}